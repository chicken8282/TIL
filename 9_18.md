# 9/18

# Web Application
Web application (web service) 개발
- 인터넷을 통해 사용자에게 제공되는 소프트웨어 프로그램을 구축하는 과정
- 다양한 디바이스 (모바일, 태블릿, PC등)에서 웹 브라우저를 통해 접근하고 사용할 수 있음

## 클라이언트와 서버
클라이언트 - 서버 구조
- Client: 서비스를 요청하는 주체
  - 사용자의 웹 브라우저, 모바일 앱
- Server: 클라이언트의 요청에 응답하는 주체
  - 웹 서버, 데이트베이스 서버

![alt text](<images/09_18/스크린샷 2025-09-18 090852.png>)

우리가 웹 페이지를 보게 되는 과정
1. 웹 브라우저(클라이언트)에서 'google.com'을 입력 후 Enter
2. 웹 브라우저는 인터넷에 연결된 전세계 어딘 가에 있는 구글 컴퓨터(서버)에게 '메인 홈페이지.html'파일을 달라고 요청
3. 요청을 받은 구글 컴퓨터는 데이터베이스에서 '메인 홈페이지.html'파일을 찾아 응답
4. 웹 브라우저는 전달받은 '메인 홈페이지.html'파일을 사람이 볼 수 있도록 해석해주고 사용자는 구글의 메인 페이지를 보게 됨

# FrameWork

## Web Framework
웹 애플리케이션을 빠르게 개발할 수 있도록 도와주는 도구\
개발에 필요한 기본 구조, 규칙, 라이브러리 등을 제공\
(로그인/로그아웃, 회원관리, 데이터베이스, 보안 등)

## Django Framework
python 기반의 대표적인 웹 프레임워크

검증된 웹 프레임워크
- 대규모 트래픽 서비스에서도 안정적인 서비스 제공
 
![alt text](<images/09_18/스크린샷 2025-09-18 091705.png>)

# 가상 환경
하나의 컴퓨터 안에서 또 다른 '독립된' 파이썬 환경

Python 환경 구조 예시\
Python global: 컴퓨터 전체에서 사용되는 기본 Python 환경을 지칭

![alt text](<images/09_18/스크린샷 2025-09-18 092114.png>)

가상 환경 비유
- 같은 집(컴퓨터) 안에, 방(가상 환경)을 따로 만들어 두고,
- 필요한 물건(라이브러리, 패키지 등)을 그 방에만 들여놓는 것과 유사
- 방이 다르면 들여놓은 물건이 달라도 서로 간섭하지 않음

## 가상 환경 생성 및 활성화
가상 환경 생성 및 활성화 과정
1. 가상 환경 생성
`$ python -m venv venv`
- 현재 디렉토리 안에 venv라는 폴더가 생성됨
- venv 폴더 안에는 파이썬 실행 파일, 라이브러리 등을 담을 공간이 마련됨
- venv 라는 이름의 가상 환경을 생성한 것
- 임의의 이름으로 생성이 가능하나 관례적으로 venv이름을 사용
2. 가상 환경 활성화
`$ source venv/Scripts/activate`
- 활성화 후, 프롬프트 앞에 (venv)와 같이 표시된다면 성공한 것
- Mac/Linux에서는 명령어가 다르니 주의
`$ source venv/bin/activate`
3. 가상 환경 종료
`$ deactiviate`
- 활성화한 상태에서 deactivate 명령을 입력하면, 다시 Python Global 환경으로 돌아옴

## 의존성 패키지(Dependancies package)
의존성\
하나의 소프트웨어가 동작하기 위해 필요로 하는 다른 소프트웨어나 라이브러리

의존성 패키지\
프로젝트가 의존하는 "개별 라이브러리"들을 가리키는 말\
-> "프로젝트가 실행되기 위해 꼭 필요한 각각의 패키지"

1. 패키지 목록 확인
`$ pip list`
- 현재 가상 환경에 설치된 라이브러리 목록을 확인
- 갓 생성된 가상 환경은 별도의 패키지가 없음
  - 기본 환경 구성을 위한 pip, setuptools 정도만 존재
2. 의존성 기록
`$ pip freeze > requirements.txt`
- pip freeze 명령어
  - 가상 환경에 설치된 모든 패키지를 버전과 함께 특정한 형식으로 출력
- 이를 requirements.txt라는 파일로 저장하면 나중에 동일한 환경을 재현할 때 유용
- 협업 시에도 팀원들이 똑같은 버전의 라이브러리를 설치하도록 공유 가능
- 다른 파일명으로도 가능하나 관례적으로 requirements.txt를 사용

의존성 리스트 예시
- requests패키지 설치 후 현재 가상 환경의 패키지 목록 변화
- 1개만 설치되는 것이 아님
  - requests가 필요로 하는 의존성들이 존재하기 때문

의존성 리스트 공유 시나리오
1. 2명(A와 B)의 개발자가 하나의 프로젝트를 함께 개발한다고 가정
2. 개발자 A가 먼저 가상 환경을 생성 후 프로젝트를 설정하고 관련된 패키지를 설치하고 개발하다가 협업을 위해 GitHub에 프로젝트를 push
3. 개발자 B는 해당 프로젝트를 clone받고 실행해보려 하지만 실행되지 않음
4. 개발자 A가 이 프로젝트를 위해 어떤 패키지를 설치했고, 어떤 버전을 설치했는지 A의 가상 환경 상황을 알 수 없음
5. 가상 환경에 대한 정보 즉 패키지 목록이 공유되어야 함

의존성 패키지 관리가 필요한 이유
- 패키지마다 버전이 다름
  - 버전이 다른 경우 함수명이나 동작이 달라질 수 있음
- 프로젝트가 커질수록 사용하는 패키지의 개수도 늘어나게 됨
  - 어떤 버전을 쓰고 있는지 기록 및 공유가 필수적
- 다른 PC나 팀원들이 같은 환경을 구성할 때 의존성 리스트가 반드시 필요

## 의존성 패키지 기반 설치
- requiremnets.txt를 활용하여 다른 환경 (혹은 팀원의 PC)에서도 동일한 패키지 버전을 설치하는 방법
```
$ python -m venv venv
$ source venv/Scripts/activate
```
1. 가상 환경 준비
  - 새로운 가상 환경을 생성 및 활성화
`$ pip install -r requirements.txt`
2. requirements.txt로부터 패키지 설치
  - requirements.txt에 기록된 패키지 버전을 읽어와 같은 환경으로 설치

## 가상 환경 주의사항
1. 가상 환경에 **들어가고 나오는** 것이 아니라 사용할 Python 환경을 **On/off**로 전환하는 개념
  - 가상 환경 활성화는 현재 터미널 환경에만 영향을 끼침
  - 새 터미널 창을 열면 다시 활성화해야 함
2. 프로젝트마다 별도의 가상 환경을 사용
3. 일반적으로 가상 환경 폴더 venv는 관련된 프로젝트와 동일한 경로에 위치시킴
4. 폴더 venv는 .gitignore파일에 작성되어 원격 저장소에 공유하지 않음
  - 저장소 크기를 줄여 효율적인 협업과 배포를 가능하게 하고
  - OS별 차이점으로 인한 문제를 방지하기 위함
  - 대신 requiremnets.txt를 공유하여 각자의 가상 환경을 구성

가상 환경이 필요한 이유
1. 프로젝트마다 다른 버전의 라이브러리 사용
  - 한 프로젝트에서는 Django 4.2를 다른 프로젝트에서는 Django 5.2를 사용해야 할 수도 있음
  - 가상 환경을 사용하면 서로 다른 버전을 동시에 설치해도 충돌 없이 각각의 프로젝트를 유지할 수 있음
2. 의존성 충돌 방지
  - 프로젝트별로 라이브러리를 독립적으로 관리하게 해 줌
  - 여러 프로젝트가 동시에 같은 라이브러리를 쓰더라도 버전 충돌 문제를 예방
3. 팀원 간 협업
  - 누구든지 동일한 방식으로 가상 환경을 만들어서, 똑같은 버전의 라이브러리를 설치하면 에러 가능성을 줄일 수 있음
## 요약
1. 가상 환경 생성 `$ python -m venv venv`
2. 가상 환경 활성화 `$ source venv/Scripts/activate`
3. 필요한 의존성 패키지 설치 `pip install`
4. 현재 환경의 패키지 목록을 `$ pip freeze > requirements.txt`로 저장하여 의존성을 관리
5. 다른 컴퓨터나 팀원도 같은 환경이 필요하다면, `pip install -r requirements.txt`로 동일한 버전의 라이브러리를 설치
6. 작업이 끝나면 `$ deactivate`로 가상 환경을 비활성화
# Django 프로젝트

## Django 프로젝트 생성 및 서버 실행
1. Django 설치
`$ pip install django`
- 현재 환경에 Django 패키지를 설치
2. 프로젝트 생성
`$ django-admin startproject firstpjt .`
- "firstpjt"라는 이름의 django 프로젝트를 생성
3. 서버 실행
`$ python manage.py runserver`
- "manage.py" 와 동일한 위치에서 명령어 진행

# Django Design Pattern

## Design Pattern
소프트웨어 설계에서 반복적으로 발생하는 문제에 대한, 검증되고 재사용 가능한 일반적인 해결책

MVC 디자인 패턴
- 하나의 애플리케이션을 구조화하는 대표적인 구조적 디자인 패턴
- Model
  - 데이터 및 비즈니스 로직을 처리
- View
  - 사용자에게 보이는 화면을 담당
- Controller
  - 사용자의 입력을 받아 Model과 View를 제어

-> 시각적 요소와 뒤에서 실행되는 로직을 서로 영향 없이, 독립적이고 쉽게 유지 보수할 수 있는 애플리케이션을 만들기 위함

MTV 디자인 패턴(Model, Template, View)\
Django에서 애플리케이션을 구조화하는 디자인 패턴

![alt text](<images/09_18/스크린샷 2025-09-18 102900.png>)

## 프로젝트와 앱
Django에서 프로젝트와 앱의 관계

![alt text](<images/09_18/스크린샷 2025-09-18 102702.png>)

Django project
- 애플리케이션의 집합
  - DB 설정, URL 연결, 전체 앱 설정 등을 처림

Django application
- 독립적으로 작동하는 기능 단위 모듈
  - 각자 특정한 기능을 담당
  - 다른 앱들과 함께 하나의 프로젝트를 구성

만약 온라인 커뮤니티 카페를 만든다면?
- 프로젝트: 카페 (전체 설정 담당)
- 앱: 게시글, 댓글, 회원 관리 등(DB, 인증, 화면)

다양한 서비스에 대입해보면
- 카페 프로젝트
  - 게시글, 댓글, 회원 관리 앱
- 쇼핑몰 프로젝트
  - 상품 조회, 배송 조회, 결제 앱
- 교육 관리 프로젝트
  - 학생 관리, 문제 관리, 점수 관리 앱

1. 앱 생성
`$ python manage.py startapp articles`
- 'articles'라는 폴더와 내부에 여러 파일이 새로 생성됨 (앱의 이름은 '복수형'으로 지정하는 것을 권장)
2. 앱 등록
- 반드시 앱을 생성(1)한 후에 등록(2)해야 함 (등록 후 생성은 불가)

## 프로젝트 및 앱 구조
프로젝트 구조
- settings.py
  - 프로젝트의 모든 설정을 관리
- urls.py
  - 요청 들어오는 URL에 따라 이에 해당하는 적절한 views를 연결
- `__init__.py`
  - 해당 폴더를 패키지로 인식하도록 설정하는 파일
- asgi.py
  - 비동기식 웹 서버와의 연결 관련 설정
- wsgi.py
  - 웹 서버와의 연결 관련 설정
- manage.py
  - Django 프로젝트와 다양한 방법으로 상호작용 하는 커맨드라인 유틸리티
앱 구조
- admin.py
  - 관리자용 페이지 설정
- modles.py
  - DB와 관련된 Model을 정의
  - MTV 패턴의 M
- views.py
  - HTTP요청을 처리하고 해당 요청에 대한 응답을 반환
    - url, model, template과 연동
  - MTV 패턴의 V
- apps.py
  - 앱의 정보가 작성된 곳
- tests.py
  - 프로젝트 테스트 코드를 작성하는 곳

# 요청과 응답
Django와 요청 & 응답

![alt text](<images/09_18/스크린샷 2025-09-18 104951.png>)

1. URLs
- http://127.0.0.1:8000/articels/로 요청이 왔을 때
  - request 객체를 views 모듈의 index view 함수에 전달하며 호출

![alt text](<images/09_18/스크린샷 2025-09-18 110248.png>)

2. View
- view 함수가 정의되는 곳
  - 특정 경로에 있는 template과 request 객체를 결합해 응답 객체를 반환

![alt text](<images/09_18/스크린샷 2025-09-18 110520.png>)

3. Tempalte
  1. articles 앱 폴더 안에 templates 폴더 생성 (폴더명은 반드시 templates 여야 하며 개발자가 직접 생성해야 함)
  2. templates 폴더 안에 articles 폴더 생성
  3. articles 폴더 안에 템플릿 파일 생성

![alt text](<images/09_18/스크린샷 2025-09-18 111315.png>)

Django에서 template을 인식하는 경로 규칙

![alt text](<images/09_18/스크린샷 2025-09-18 112525.png>)